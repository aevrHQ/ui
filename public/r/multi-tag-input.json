{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "multi-tag-input",
  "type": "registry:component",
  "title": "Multi Tag Input",
  "description": "A reusable multi-tag input component that allows users to add, edit, and remove tags through an intuitive interface with keyboard interactions and visual feedback",
  "dependencies": [
    "iconsax-react",
    "class-variance-authority"
  ],
  "files": [
    {
      "path": "registry/lagos/ui/multi-tag-input.tsx",
      "content": "// ./registry/lagos/ui/multi-tag-input.tsx\n\n/**\n * MultiTagInput Component\n *\n * A reusable multi-tag input component that allows users to add, edit, and remove tags\n * through an intuitive interface. Supports both controlled and uncontrolled usage patterns.\n *\n * @example\n * // Basic uncontrolled usage\n * <MultiTagInput placeholder=\"Add tags...\" />\n *\n * @example\n * // Controlled usage with state management\n * const [tags, setTags] = useState<string[]>([]);\n * <MultiTagInput\n *   value={tags}\n *   onChange={setTags}\n *   maxTags={5}\n *   placeholder=\"Enter keywords...\"\n * />\n *\n * @example\n * // Form integration with validation\n * <MultiTagInput\n *   label=\"Skills\"\n *   description=\"Add your technical skills\"\n *   value={formik.values.skills}\n *   onChange={(tags) => formik.setFieldValue('skills', tags)}\n *   error={formik.errors.skills}\n *   required\n *   maxTags={10}\n * />\n *\n * @example\n * // Different sizes and variants\n * <MultiTagInput size=\"sm\" variant=\"default\" />\n * <MultiTagInput size=\"lg\" variant=\"error\" />\n *\n * @example\n * // Disabled state\n * <MultiTagInput\n *   value={['React', 'TypeScript']}\n *   disabled\n *   label=\"Read-only tags\"\n * />\n *\n * Features:\n * - Add tags by typing and pressing Enter or comma\n * - Remove tags by clicking the X button\n * - Edit tags by clicking on the tag text\n * - Duplicate prevention (case-sensitive)\n * - Configurable tag limits\n * - Form integration support\n * - Accessibility compliant\n * - Responsive design with proper wrapping\n * - CVA variants for consistent styling\n *\n * Keyboard Interactions:\n * - Enter/Comma: Create new tag from input\n * - Click tag text: Edit existing tag\n * - Click X button: Remove tag\n * - Tab: Navigate away from component\n *\n * Accessibility:\n * - Proper ARIA labels for screen readers\n * - Keyboard navigation support\n * - Focus management\n * - Required field indicators\n */\n\n\"use client\";\nimport * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { CloseCircle } from \"iconsax-react\";\nimport { cn } from \"@/lib/utils\";\n\nconst multiTagInputVariants = cva(\n  \"border rounded-[16px] min-h-[100px] overflow-hidden relative transition-colors\",\n  {\n    variants: {\n      variant: {\n        default: \"border-neutral-200 focus-within:border-[#656565]\",\n        error: \"border-red-500\",\n      },\n      size: {\n        sm: \"min-h-[80px] text-sm\",\n        md: \"min-h-[100px] text-base\",\n        lg: \"min-h-[120px] text-lg\",\n      },\n      disabled: {\n        true: \"opacity-50 cursor-not-allowed bg-gray-50\",\n        false: \"\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"md\",\n      disabled: false,\n    },\n  }\n);\n\nconst tagVariants = cva(\n  \"flex items-center bg-[#FFE9B9] border border-[#FFE9B9] text-black px-3 py-1 rounded-[8px] font-medium cursor-pointer\",\n  {\n    variants: {\n      size: {\n        sm: \"text-xs px-2 py-0.5\",\n        md: \"text-sm px-3 py-1\",\n        lg: \"text-base px-4 py-1.5\",\n      },\n    },\n    defaultVariants: {\n      size: \"md\",\n    },\n  }\n);\n\n/**\n * Props interface for the MultiTagInput component\n *\n * @interface MultiTagInputProps\n * @extends {Omit<React.TextareaHTMLAttributes<HTMLTextAreaElement>, \"value\" | \"onChange\">}\n * @extends {VariantProps<typeof multiTagInputVariants>}\n */\nexport interface MultiTagInputProps\n  extends Omit<\n      React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n      \"value\" | \"onChange\"\n    >,\n    VariantProps<typeof multiTagInputVariants> {\n  // Core functionality\n  /**\n   * Array of tag strings for controlled component usage\n   * @example value={['React', 'TypeScript', 'JavaScript']}\n   */\n  value?: string[];\n\n  /**\n   * Callback function called when tags array changes\n   * @param tags - Updated array of tag strings\n   * @example onChange={(tags) => setTags(tags)}\n   */\n  onChange?: (tags: string[]) => void;\n\n  // Configuration\n  /**\n   * Maximum number of tags allowed\n   * @default 10\n   * @example maxTags={5}\n   */\n  maxTags?: number;\n\n  /**\n   * Placeholder text for the input field\n   * @default \"Type and press Enter or comma to add tags...\"\n   * @example placeholder=\"Enter your skills...\"\n   */\n  placeholder?: string;\n\n  // Form integration\n  /**\n   * Name attribute for form integration\n   * @example name=\"skills\"\n   */\n  name?: string;\n\n  /**\n   * Whether the field is required (shows asterisk)\n   * @default false\n   * @example required={true}\n   */\n  required?: boolean;\n\n  /**\n   * Whether the component is disabled\n   * @default false\n   * @example disabled={isLoading}\n   */\n  disabled?: boolean;\n\n  // Labels and descriptions\n  /**\n   * Label text displayed above the component\n   * @example label=\"Technical Skills\"\n   */\n  label?: string;\n\n  /**\n   * Description text displayed below the component\n   * @example description=\"Add up to 10 skills\"\n   */\n  description?: string;\n\n  /**\n   * Error message displayed in red below the component\n   * @example error=\"At least 3 skills are required\"\n   */\n  error?: string;\n}\n\n/**\n * Props interface for individual Tag components\n *\n * @interface TagProps\n * @extends {VariantProps<typeof tagVariants>}\n */\nexport interface TagProps extends VariantProps<typeof tagVariants> {\n  /**\n   * The text content of the tag\n   * @example children=\"React\"\n   */\n  children: string;\n\n  /**\n   * Callback function called when the remove button is clicked\n   * @example onRemove={() => removeTag(index)}\n   */\n  onRemove: () => void;\n\n  /**\n   * Callback function called when the tag text is clicked for editing\n   * @example onEdit={() => editTag(index)}\n   */\n  onEdit: () => void;\n\n  /**\n   * Additional CSS classes for custom styling\n   * @example className=\"custom-tag-style\"\n   */\n  className?: string;\n\n  /**\n   * Whether the tag is disabled (non-interactive)\n   * @default false\n   * @example disabled={true}\n   */\n  disabled?: boolean;\n}\n\nconst Tag = React.forwardRef<HTMLDivElement, TagProps>(\n  (\n    { children, onRemove, onEdit, size, className, disabled, ...props },\n    ref\n  ) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          tagVariants({ size, className }),\n          disabled && \"opacity-50\"\n        )}\n        {...props}\n      >\n        <span\n          onClick={disabled ? undefined : onEdit}\n          className={disabled ? \"cursor-default\" : \"cursor-pointer\"}\n        >\n          {children}\n        </span>\n        <button\n          type=\"button\"\n          onClick={disabled ? undefined : onRemove}\n          disabled={disabled}\n          className={cn(\n            \"ml-2 text-gray-500 rounded-full p-0.5 transition-all duration-200\",\n            disabled\n              ? \"cursor-not-allowed\"\n              : \"hover:text-red-500 hover:bg-red-50 cursor-pointer\"\n          )}\n          aria-label={`Remove ${children} tag`}\n        >\n          <CloseCircle size={16} />\n        </button>\n      </div>\n    );\n  }\n);\n\nTag.displayName = \"Tag\";\n\n/**\n * MultiTagInput Component\n *\n * A comprehensive multi-tag input component with full form integration support.\n *\n * @example\n * // 1. Basic Uncontrolled Usage\n * function BasicExample() {\n *   return (\n *     <MultiTagInput\n *       placeholder=\"Add your interests...\"\n *       maxTags={5}\n *     />\n *   );\n * }\n *\n * @example\n * // 2. Controlled Usage with State\n * function ControlledExample() {\n *   const [tags, setTags] = useState<string[]>(['React', 'TypeScript']);\n *\n *   return (\n *     <MultiTagInput\n *       value={tags}\n *       onChange={setTags}\n *       label=\"Technical Skills\"\n *       description=\"Add your programming skills\"\n *       maxTags={10}\n *       required\n *     />\n *   );\n * }\n *\n * @example\n * // 3. Form Integration with Formik\n * function FormikExample() {\n *   const formik = useFormik({\n *     initialValues: { skills: [] },\n *     validationSchema: Yup.object({\n *       skills: Yup.array().min(1, 'At least one skill is required')\n *     }),\n *     onSubmit: (values) => console.log(values)\n *   });\n *\n *   return (\n *     <form onSubmit={formik.handleSubmit}>\n *       <MultiTagInput\n *         name=\"skills\"\n *         label=\"Skills\"\n *         value={formik.values.skills}\n *         onChange={(tags) => formik.setFieldValue('skills', tags)}\n *         error={formik.touched.skills && formik.errors.skills}\n *         required\n *       />\n *       <button type=\"submit\">Submit</button>\n *     </form>\n *   );\n * }\n *\n * @example\n * // 4. React Hook Form Integration\n * function ReactHookFormExample() {\n *   const { control, handleSubmit } = useForm({\n *     defaultValues: { tags: [] }\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(console.log)}>\n *       <Controller\n *         name=\"tags\"\n *         control={control}\n *         render={({ field, fieldState }) => (\n *           <MultiTagInput\n *             {...field}\n *             label=\"Categories\"\n *             error={fieldState.error?.message}\n *             maxTags={8}\n *           />\n *         )}\n *       />\n *     </form>\n *   );\n * }\n *\n * @example\n * // 5. Different Sizes and Variants\n * function VariantsExample() {\n *   return (\n *     <div className=\"space-y-4\">\n *       <MultiTagInput size=\"sm\" label=\"Small Size\" />\n *       <MultiTagInput size=\"md\" label=\"Medium Size (default)\" />\n *       <MultiTagInput size=\"lg\" label=\"Large Size\" />\n *       <MultiTagInput variant=\"error\" label=\"Error State\" />\n *       <MultiTagInput disabled label=\"Disabled State\" value={['Read-only']} />\n *     </div>\n *   );\n * }\n *\n * @example\n * // 6. Advanced Usage with Custom Validation\n * function AdvancedExample() {\n *   const [tags, setTags] = useState<string[]>([]);\n *   const [error, setError] = useState<string>('');\n *\n *   const handleTagsChange = (newTags: string[]) => {\n *     setTags(newTags);\n *\n *     // Custom validation\n *     if (newTags.length < 2) {\n *       setError('Please add at least 2 tags');\n *     } else if (newTags.some(tag => tag.length < 3)) {\n *       setError('Each tag must be at least 3 characters long');\n *     } else {\n *       setError('');\n *     }\n *   };\n *\n *   return (\n *     <MultiTagInput\n *       value={tags}\n *       onChange={handleTagsChange}\n *       label=\"Project Tags\"\n *       description=\"Add descriptive tags for your project\"\n *       error={error}\n *       maxTags={15}\n *       placeholder=\"e.g., web-development, react, typescript...\"\n *     />\n *   );\n * }\n */\nconst MultiTagInput = React.forwardRef<HTMLTextAreaElement, MultiTagInputProps>(\n  (\n    {\n      className,\n      variant,\n      size,\n      value = [],\n      onChange,\n      maxTags = 10,\n      placeholder = \"Type and press Enter or comma to add tags...\",\n      label,\n      description,\n      error,\n      disabled,\n      required,\n      ...props\n    },\n    ref\n  ) => {\n    const [internalTags, setInternalTags] = React.useState<string[]>([]);\n    const [inputValue, setInputValue] = React.useState(\"\");\n    const textareaRef = React.useRef<HTMLTextAreaElement>(null);\n\n    // Use controlled value if provided, otherwise use internal state\n    const isControlled = onChange !== undefined;\n    const tags = React.useMemo(() => {\n      return isControlled ? value || [] : internalTags;\n    }, [isControlled, value, internalTags]);\n\n    // Sync internal state with controlled value when it changes\n    React.useEffect(() => {\n      if (isControlled && value !== undefined) {\n        setInternalTags(value);\n      }\n    }, [value, isControlled]);\n\n    const updateTags = React.useCallback(\n      (newTags: string[]) => {\n        if (isControlled) {\n          onChange?.(newTags);\n        } else {\n          setInternalTags(newTags);\n        }\n      },\n      [isControlled, onChange]\n    );\n\n    const removeTag = React.useCallback(\n      (index: number) => {\n        if (disabled) return;\n        const newTags = tags.filter((_, i) => i !== index);\n        updateTags(newTags);\n      },\n      [tags, updateTags, disabled]\n    );\n\n    const editTag = React.useCallback(\n      (index: number) => {\n        if (disabled) return;\n        const tagToEdit = tags[index];\n        removeTag(index);\n        setInputValue(tagToEdit);\n\n        // Focus the input field when editing a tag\n        setTimeout(() => {\n          if (textareaRef.current) {\n            textareaRef.current.focus();\n          }\n        }, 0);\n      },\n      [tags, removeTag, disabled]\n    );\n\n    const handleTagInput = React.useCallback(\n      (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n        if (disabled) return;\n\n        if (e.key === \"Enter\" || e.key === \",\") {\n          e.preventDefault();\n\n          // Trim whitespace and check for empty tags\n          const trimmedValue = inputValue.trim();\n          if (!trimmedValue) {\n            return;\n          }\n\n          // Check for duplicate tags (case-sensitive comparison)\n          if (tags.includes(trimmedValue)) {\n            setInputValue(\"\");\n            return;\n          }\n\n          // Enforce tag limit\n          if (tags.length >= maxTags) {\n            return;\n          }\n\n          // Add the new tag\n          const newTags = [...tags, trimmedValue];\n          updateTags(newTags);\n          setInputValue(\"\");\n        }\n      },\n      [inputValue, tags, maxTags, updateTags, disabled]\n    );\n\n    return (\n      <div className=\"space-y-2\">\n        {label && (\n          <label className=\"text-sm font-medium text-gray-700\">\n            {label}\n            {required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n\n        <div\n          className={cn(\n            multiTagInputVariants({\n              variant: error ? \"error\" : variant,\n              size,\n              disabled,\n              className,\n            })\n          )}\n        >\n          {/* Tags Display */}\n          {tags.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 p-3 pb-0\">\n              {tags.map((tag, index) => (\n                <Tag\n                  key={`${tag}-${index}`}\n                  size={size}\n                  disabled={disabled}\n                  onRemove={() => removeTag(index)}\n                  onEdit={() => editTag(index)}\n                >\n                  {tag}\n                </Tag>\n              ))}\n            </div>\n          )}\n\n          {/* Input Field */}\n          <textarea\n            ref={(node) => {\n              textareaRef.current = node;\n              if (typeof ref === \"function\") {\n                ref(node);\n              } else if (ref) {\n                ref.current = node;\n              }\n            }}\n            value={inputValue}\n            onChange={(e) => !disabled && setInputValue(e.target.value)}\n            onKeyDown={handleTagInput}\n            placeholder={placeholder}\n            disabled={disabled}\n            className=\"w-full p-3 bg-transparent border-none outline-none resize-none disabled:cursor-not-allowed\"\n            rows={1}\n            {...props}\n          />\n        </div>\n\n        {/* Tag Counter */}\n        <div className=\"flex justify-between items-center text-sm text-gray-500\">\n          <span>\n            {tags.length}/{maxTags} tags\n          </span>\n          {description && !error && <span>{description}</span>}\n        </div>\n\n        {/* Error Message */}\n        {error && <p className=\"text-sm text-red-500\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nMultiTagInput.displayName = \"MultiTagInput\";\n\nexport { MultiTagInput, multiTagInputVariants, tagVariants, Tag };\n",
      "type": "registry:component",
      "target": "components/ui/aevr/multi-tag-input.tsx"
    }
  ]
}